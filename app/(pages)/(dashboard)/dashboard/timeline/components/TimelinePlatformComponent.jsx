import { useState } from "react";
import Stack from "@mui/material/Stack";
import Typography from "@mui/material/Typography";

const TimelinePlatform = ({
  platform,
  selected,
  setSelected,
  setSelectedId,
}) => {
  const [isHover, setIsHover] = useState(false);
  const active = platform.name.toLowerCase() == selected;
  return (
    <Stack
      direction={"row"}
      alignItems={"center"}
      spacing={1}
      onMouseOver={() => setIsHover(true)}
      onMouseLeave={() => setIsHover(false)}
      onClick={() => {
        setSelectedId(platform.id);
        setSelected(platform.name.toLowerCase());
      }}
      className={`py-2.5 px-4 bg-white rounded-lg ring-1 hover:ring-[#1B59F8CC] cursor-pointer transition-all group ${
        active ? "ring-[#1B59F8CC]" : "ring-[#E0E0E0]"
      }`}
    >
      <TimelinePlatformIcon
        platform={platform.name.toLowerCase()}
        color={isHover || active ? "#1B59F8CC" : "#0000004c"}
      />
      <Typography
        className={`text-[#0000004c] text-sm font-medium group-hover:text-[#1B59F8CC] transition-all ${
          active ? "text-[#1B59F8CC] font-semibold" : ""
        }`}
      >
        {platform?.name}
      </Typography>
    </Stack>
  );
};

export default TimelinePlatform;

const TimelinePlatformIcon = ({ color, platform }) => {
  if (platform == "facebook") {
    return <FacebookIcon color={color} />;
  } else if (platform == "instagram") {
    return <InstagramIcon color={color} />;
  } else {
    return <NewsIcon color={color} />;
  }
};

const FacebookIcon = ({ color }) => (
  <svg
    width="13"
    height="14"
    viewBox="0 0 13 14"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g clipPath="url(#clip0_1412_572)">
      <path
        d="M0.464279 12.1072V1.89293C0.464279 1.64665 0.562111 1.41047 0.736251 1.23633C0.910392 1.06219 1.14658 0.964355 1.39285 0.964355H11.6071C11.8534 0.964355 12.0896 1.06219 12.2637 1.23633C12.4379 1.41047 12.5357 1.64665 12.5357 1.89293V12.1072C12.5357 12.3535 12.4379 12.5897 12.2637 12.7638C12.0896 12.938 11.8534 13.0358 11.6071 13.0358H8.82142V8.63436H9.48071C9.63093 8.63436 9.77501 8.57468 9.88123 8.46845C9.98746 8.36223 10.0471 8.21815 10.0471 8.06793V7.35293C10.0469 7.20278 9.98713 7.05885 9.88096 6.95267C9.77479 6.8465 9.63086 6.78674 9.48071 6.7865H8.85856V5.91364C8.85856 5.13364 9.21142 5.13364 9.56428 5.13364H10.0193C10.094 5.13672 10.1685 5.12335 10.2375 5.09446C10.3065 5.06558 10.3683 5.0219 10.4186 4.9665C10.4725 4.91513 10.5152 4.85311 10.544 4.78439C10.5728 4.71566 10.587 4.64171 10.5857 4.56721V3.88007C10.5884 3.8044 10.5762 3.72893 10.5496 3.65802C10.523 3.58711 10.4827 3.52217 10.4309 3.46692C10.3791 3.41168 10.3169 3.36723 10.2478 3.33615C10.1788 3.30506 10.1043 3.28794 10.0286 3.28578H8.96071C8.64912 3.27407 8.33871 3.33013 8.05091 3.4501C7.7631 3.57007 7.50478 3.75108 7.29376 3.98064C7.08275 4.21019 6.92408 4.48282 6.82872 4.77968C6.73335 5.07654 6.70357 5.39057 6.74142 5.70007V6.7865H6.14714C6.07197 6.78527 5.99732 6.79901 5.92752 6.82692C5.85772 6.85483 5.79418 6.89636 5.74059 6.94908C5.68701 7.0018 5.64445 7.06466 5.61541 7.134C5.58637 7.20333 5.57141 7.27775 5.57142 7.35293V8.06793C5.57141 8.1431 5.58637 8.21752 5.61541 8.28686C5.64445 8.35619 5.68701 8.41905 5.74059 8.47177C5.79418 8.52449 5.85772 8.56602 5.92752 8.59393C5.99732 8.62185 6.07197 8.63559 6.14714 8.63436H6.74142V13.0358H1.39285C1.14658 13.0358 0.910392 12.938 0.736251 12.7638C0.562111 12.5897 0.464279 12.3535 0.464279 12.1072Z"
        stroke={color}
        strokeOpacity="1"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
    </g>
    <defs>
      <clipPath id="clip0_1412_572">
        <rect
          width="13"
          height="13"
          fill="white"
          transform="translate(0 0.5)"
        />
      </clipPath>
    </defs>
  </svg>
);

const InstagramIcon = ({ color }) => (
  <svg
    width="16"
    height="16"
    viewBox="0 0 16 16"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M5.20001 1.33325H10.8C12.9333 1.33325 14.6667 3.06659 14.6667 5.19992V10.7999C14.6667 11.8254 14.2593 12.8089 13.5342 13.5341C12.809 14.2592 11.8255 14.6666 10.8 14.6666H5.20001C3.06668 14.6666 1.33334 12.9333 1.33334 10.7999V5.19992C1.33334 4.17441 1.74072 3.19091 2.46586 2.46577C3.191 1.74063 4.17451 1.33325 5.20001 1.33325ZM5.06668 2.66659C4.43016 2.66659 3.81971 2.91944 3.36962 3.36953C2.91953 3.81962 2.66668 4.43007 2.66668 5.06659V10.9333C2.66668 12.2599 3.74001 13.3333 5.06668 13.3333H10.9333C11.5699 13.3333 12.1803 13.0804 12.6304 12.6303C13.0805 12.1802 13.3333 11.5698 13.3333 10.9333V5.06659C13.3333 3.73992 12.26 2.66659 10.9333 2.66659H5.06668ZM11.5 3.66659C11.721 3.66659 11.933 3.75438 12.0893 3.91066C12.2455 4.06694 12.3333 4.2789 12.3333 4.49992C12.3333 4.72093 12.2455 4.93289 12.0893 5.08917C11.933 5.24545 11.721 5.33325 11.5 5.33325C11.279 5.33325 11.067 5.24545 10.9108 5.08917C10.7545 4.93289 10.6667 4.72093 10.6667 4.49992C10.6667 4.2789 10.7545 4.06694 10.9108 3.91066C11.067 3.75438 11.279 3.66659 11.5 3.66659ZM8.00001 4.66658C8.88406 4.66659 9.73191 5.01777 10.357 5.6429C10.9822 6.26802 11.3333 7.11586 11.3333 7.99992C11.3333 8.88397 10.9822 9.73182 10.357 10.3569C9.73191 10.9821 8.88406 11.3333 8.00001 11.3333C7.11595 11.3333 6.26811 10.9821 5.64299 10.3569C5.01787 9.73182 4.66668 8.88397 4.66668 7.99992C4.66668 7.11586 5.01787 6.26802 5.64299 5.6429C6.26811 5.01777 7.11595 4.66659 8.00001 4.66658ZM8.00001 5.99992C7.46958 5.99992 6.96087 6.21063 6.5858 6.5857C6.21072 6.96078 6.00001 7.46949 6.00001 7.99992C6.00001 8.53035 6.21072 9.03906 6.5858 9.41413C6.96087 9.7892 7.46958 9.99992 8.00001 9.99992C8.53044 9.99992 9.03915 9.7892 9.41422 9.41413C9.7893 9.03906 10 8.53035 10 7.99992C10 7.46949 9.7893 6.96078 9.41422 6.5857C9.03915 6.21063 8.53044 5.99992 8.00001 5.99992Z"
      fill={color}
      fillOpacity="1"
    />
  </svg>
);

const NewsIcon = ({ color }) => (
  <svg
    width="16"
    height="16"
    viewBox="0 0 16 16"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M4 5.1999C4 5.09382 4.04214 4.99207 4.11716 4.91706C4.19217 4.84205 4.29391 4.7999 4.4 4.7999H10C10.1061 4.7999 10.2078 4.84205 10.2828 4.91706C10.3579 4.99207 10.4 5.09382 10.4 5.1999C10.4 5.30599 10.3579 5.40773 10.2828 5.48274C10.2078 5.55776 10.1061 5.5999 10 5.5999H4.4C4.29391 5.5999 4.19217 5.55776 4.11716 5.48274C4.04214 5.40773 4 5.30599 4 5.1999ZM8.4 7.1999C8.29391 7.1999 8.19217 7.24204 8.11716 7.31706C8.04214 7.39207 8 7.49382 8 7.5999C8 7.70599 8.04214 7.80773 8.11716 7.88275C8.19217 7.95776 8.29391 7.9999 8.4 7.9999H10C10.1061 7.9999 10.2078 7.95776 10.2828 7.88275C10.3579 7.80773 10.4 7.70599 10.4 7.5999C10.4 7.49382 10.3579 7.39207 10.2828 7.31706C10.2078 7.24204 10.1061 7.1999 10 7.1999H8.4ZM8 9.9999C8 9.89382 8.04214 9.79207 8.11716 9.71706C8.19217 9.64204 8.29391 9.5999 8.4 9.5999H10C10.1061 9.5999 10.2078 9.64204 10.2828 9.71706C10.3579 9.79207 10.4 9.89382 10.4 9.9999C10.4 10.106 10.3579 10.2077 10.2828 10.2827C10.2078 10.3578 10.1061 10.3999 10 10.3999H8.4C8.29391 10.3999 8.19217 10.3578 8.11716 10.2827C8.04214 10.2077 8 10.106 8 9.9999ZM4.4 7.1999C4.29391 7.1999 4.19217 7.24204 4.11716 7.31706C4.04214 7.39207 4 7.49382 4 7.5999V9.9999C4 10.106 4.04214 10.2077 4.11716 10.2827C4.19217 10.3578 4.29391 10.3999 4.4 10.3999H6.8C6.90609 10.3999 7.00783 10.3578 7.08284 10.2827C7.15786 10.2077 7.2 10.106 7.2 9.9999V7.5999C7.2 7.49382 7.15786 7.39207 7.08284 7.31706C7.00783 7.24204 6.90609 7.1999 6.8 7.1999H4.4ZM4.8 9.5999V7.9999H6.4V9.5999H4.8ZM1.6 3.9999C1.6 3.57556 1.76857 3.16859 2.06863 2.86853C2.36869 2.56847 2.77565 2.3999 3.2 2.3999H11.2C11.6243 2.3999 12.0313 2.56847 12.3314 2.86853C12.6314 3.16859 12.8 3.57556 12.8 3.9999V4.7999C13.2243 4.7999 13.6313 4.96847 13.9314 5.26853C14.2314 5.56859 14.4 5.97556 14.4 6.3999V10.7999C14.4 11.3303 14.1893 11.839 13.8142 12.2141C13.4391 12.5892 12.9304 12.7999 12.4 12.7999H3.6C3.06957 12.7999 2.56086 12.5892 2.18578 12.2141C1.81071 11.839 1.6 11.3303 1.6 10.7999V3.9999ZM12 3.9999C12 3.78773 11.9157 3.58425 11.7657 3.43422C11.6157 3.28419 11.4122 3.1999 11.2 3.1999H3.2C2.98783 3.1999 2.78434 3.28419 2.63431 3.43422C2.48428 3.58425 2.4 3.78773 2.4 3.9999V10.7999C2.4 11.1182 2.52643 11.4234 2.75147 11.6484C2.97651 11.8735 3.28174 11.9999 3.6 11.9999H12.4C12.7183 11.9999 13.0235 11.8735 13.2485 11.6484C13.4736 11.4234 13.6 11.1182 13.6 10.7999V6.3999C13.6 6.18773 13.5157 5.98425 13.3657 5.83422C13.2157 5.68419 13.0122 5.5999 12.8 5.5999V10.7999C12.8 10.906 12.7579 11.0077 12.6828 11.0827C12.6078 11.1578 12.5061 11.1999 12.4 11.1999C12.2939 11.1999 12.1922 11.1578 12.1172 11.0827C12.0421 11.0077 12 10.906 12 10.7999V3.9999Z"
      fill={color}
      fillOpacity="1"
    />
  </svg>
);
